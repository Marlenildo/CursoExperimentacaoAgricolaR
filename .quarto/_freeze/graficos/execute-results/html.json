{
  "hash": "8594ecf32de7a8fa21063ecaf2a57b1e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Construindo Gráficos\"\nauthor: \"Marlenildo Melo\"\ndate: \"2025-09-02\"\nlang: \"pt-BR\"\nformat:\n  html:\n    theme: cosmo\n    include-in-header:\n      - text: |\n          <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    toc: true\n    toc_float:\n      collapsed: false\n      smooth_scroll: true\n    toc_depth: 4\n    number_sections: true\n---\n\n\n\n\n\n\nA elaboração dos gráficos neste trabalho será realizada utilizando o pacote `ggplot2`. \n\nPara os exemplos apresentados, será utilizado o banco de dados `dados`, que contém as seguintes variáveis:\n\n\n- **FMICO**: fator relacionado à aplicação de fungo micorrízico (com ou sem inoculação);  \n- **LIRRIG**: níveis de irrigação aplicados às plantas;  \n- **DAS**: dias após a semeadura, utilizado como variável temporal para acompanhamento do desenvolvimento;  \n- **MAP**: massa aérea da parte da planta (g ou kg, dependendo da unidade utilizada no experimento);  \n- **DPAP**: desvio-padrão da massa aérea da planta, indicando a variabilidade da medida;  \n- **MDC**: massa da parte da raiz ou do caule (dependendo da nomenclatura definida no experimento);  \n- **DPDC**: desvio-padrão da massa da raiz ou caule;  \n- **MNF**: massa seca de folhas (g ou kg);  \n- **DPNF**: desvio-padrão da massa seca de folhas.  \n\nEsse banco de dados contém informações experimentais essenciais para avaliar o efeito de micorrizas e diferentes lâminas de irrigação sobre o crescimento e a produção vegetal ao longo do tempo.\n\nEsse conjunto de informações possibilita tanto a construção de gráficos exploratórios (como boxplots e histogramas) quanto a representação de médias e grupos de comparação, atendendo às necessidades da análise estatística e da apresentação dos resultados.\n\n\n**Banco de dados**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  FMICO LIRRIG DAS    MAP      DPAP   MDC       DPDC  MNF      DPNF\n1    F0     L4  10  8.175 0.6291529 1.650 0.05773503 4.25 0.5000000\n2    F0     L4  10  9.000 1.4142136 1.650 0.23804761 4.50 0.5773503\n3    F0     L4  10  9.075 0.2872281 1.550 0.12909945 4.00 0.0000000\n4    F0     L4  30 17.300 1.0230673 3.850 0.05773503 8.75 0.5000000\n5    F0     L4  30 17.400 1.3291601 3.725 0.05000000 8.75 0.5000000\n6    F0     L4  30 19.000 3.2659863 3.925 0.34034296 9.25 0.9574271\n```\n\n\n:::\n:::\n\n\n\n**Estrutura dos dados**\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(dados)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t81 obs. of  9 variables:\n $ FMICO : Factor w/ 3 levels \"F0\",\"F1\",\"F2\": 1 1 1 1 1 1 1 1 1 1 ...\n $ LIRRIG: Factor w/ 3 levels \"L4\",\"L6\",\"L8\": 1 1 1 1 1 1 1 1 1 2 ...\n $ DAS   : int  10 10 10 30 30 30 50 50 50 10 ...\n $ MAP   : num  8.18 9 9.07 17.3 17.4 ...\n $ DPAP  : num  0.629 1.414 0.287 1.023 1.329 ...\n $ MDC   : num  1.65 1.65 1.55 3.85 3.73 ...\n $ DPDC  : num  0.0577 0.238 0.1291 0.0577 0.05 ...\n $ MNF   : num  4.25 4.5 4 8.75 8.75 9.25 9.25 9.75 10 4.25 ...\n $ DPNF  : num  0.5 0.577 0 0.5 0.5 ...\n```\n\n\n:::\n:::\n\n\n\n----\n\n# **Construindo gráficos no R**\n\nConstruindo gráficos usando o pacote *ggplot2*\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2) #Criar gráficos de vários tipos\nlibrary(dplyr) #Utilizar operadores pipes\nlibrary(rstatix) #Pacote para realizar estatística descritiva\n```\n:::\n\n\n\n\n## **Gráfico de boxplot**\n\n-   Variável dependente: MAP  \n-   Variáveis independentes: FMICO, LIRRIG, DAS  \n\n\n### **Modelo 1**\\\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  ggplot(aes(x=DAS, y=MAP, fill=LIRRIG))+ #Escolhe que variáveis aparecem no eixo X, Y e grupo\n  geom_boxplot()+ #Seleciona tipo de gráfico de boxplot\n  facet_grid(~FMICO)+ # Agrupa gráfico por MICO\n  theme_bw() #Estilo de gráfico\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n----\n\n### **Modelo 2**\\\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  ggplot(aes(x=DAS, y=MAP, fill=FMICO))+ #Escolhe que variáveis aparecem no eixo X, Y e grupo\n  geom_boxplot()+ #Seleciona tipo de gráfico de boxplot\n  facet_grid(~LIRRIG)+ # Agrupa gráfico por LRRIG\n  theme_bw() #Estilo de gráfico\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n----\n\n### **Modelo 3**\\\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  ggplot(aes(x=FMICO, y=MAP, fill=LIRRIG))+ #Escolhe que variáveis aparecem no eixo X, Y e grupo\n  geom_boxplot()+ #Seleciona tipo de gráfico de boxplot\n  facet_grid(~DAS)+ # Agrupa gráfico por DAS \n  theme_bw() #Estilo de gráfico\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n----\n\n### **Modelo 4**\\\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  ggplot(aes(x=LIRRIG, y=MAP, fill=FMICO))+ #Escolhe que variáveis aparecem no eixo X, Y e grupo\n  geom_boxplot()+ #Seleciona tipo de gráfico de boxplot\n  facet_grid(~DAS)+ # Agrupa gráfico por DAS \n  theme_bw() #Estilo de gráfico\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n\n----\n\nAlterando títulos dos eixos\n\n\n### **Modelo 5**\\\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  ggplot(aes(x=LIRRIG, y=MAP, fill=FMICO))+ #Escolhe que variáveis aparecem no eixo X, Y e grupo\n  geom_boxplot()+ #Seleciona tipo de gráfico de boxplot\n  facet_grid(~DAS)+ # Agrupa gráfico por DAS \n  theme_bw()+ #Estilo de gráfico\n  xlab(\"Dias\")+ #Altera o título do eixo X\n  ylab(\"Nome da variável no eixo y\") #Altera o título do eixo Y\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n<br>\n<br>\n\n-----\n\n## **Gráfico de linhas e barras de erros**\n\n\n\nPara fazer gráfico de linhas, a variável no eixo X precisa ser uma variável numérica, como DAS\n\n### **Modelo 1**\\\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#chama arquivo de dados\ndados |> \n  \n  # Realizar o agrupamento dos dados por FMICO, LIRRIG e DAS\n  group_by(FMICO, LIRRIG,DAS) |> \n  \n  # Calcular as estatísticas resumidas (média e erro padrão) para a coluna MAP dentro de cada grupo\n  get_summary_stats(MAP, type=\"mean_se\") |> \n  \n  # Criar o gráfico de linhas\n  ggplot(aes(x = DAS, #Variável no eixo X\n             y = mean, #Variável no eixo Y (essa deve ser a varável analisada (dependente))\n             fill = LIRRIG)) + #Variável na legenda (as linhas terão as cores agrupadas conforme essa variável)\n  \n  # Adicionar as linhas de dados\n  geom_line(aes(\n    color=LIRRIG) #define as cores das linhas de acordo com LIRRIG\n    )+\n  \n  # Adicionar pontos nas linhas (opcional)\n  geom_point(aes(\n    color=LIRRIG) #define as cores das linhas de acordo com LIRRIG\n    )+\n  \n  #Adiciona barras de erros nos pontos\n  geom_errorbar(aes(ymax = mean + se, #Barra de erro para baixo (média - erro)\n                   ymin = mean - se, #Barra de erro para cima (média + erro) \n                   width=2, #define a largura da barra de erro \n                   color=LIRRIG #define as cores das linhas de acordo com LIRRIG\n                   ))+\n  \n  #Agrupa os gráficos por FMICO\n  facet_grid(~FMICO)+\n  \n  #Define o estilo do gráfico\n  theme_bw()+\n  \n  #Altera título do eixo X\n  xlab(\"Nome da variável no eixo X (DAS)\")+\n\n  #Altera título do eixo Y\n  ylab(\"Nome da variável no eixo Y (MAP)\")\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n----\n\n### **Modelo 2**\\\n\n\nAdicionando letras nas linhas:\\\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#chama arquivo de dados\ndados |> \n  \n  # Realizar o agrupamento dos dados por FMICO, LIRRIG e DAS\n  group_by(FMICO, LIRRIG,DAS) |> \n  \n  # Calcular as estatísticas resumidas (média e erro padrão) para a coluna MAP dentro de cada grupo\n  get_summary_stats(MAP, type=\"mean_se\") |> \n  \n# Criar o gráfico de linhas\n  ggplot(aes(x = DAS, #Variável no eixo X\n             y = mean, #Variável no eixo Y (essa deve ser a varável analisada (dependente))\n             fill = LIRRIG)) + #Variável na legenda (as linhas terão as cores agrupadas conforme essa variável)\n  \n  # Adicionar as linhas de dados\n  geom_line(aes(\n    color=LIRRIG) #define as cores das linhas de acordo com LIRRIG\n    )+\n  \n  # Adicionar pontos nas linhas (opcional)\n  geom_point(aes(\n    color=LIRRIG) #define as cores das linhas de acordo com LIRRIG\n    )+\n  \n  #Adiciona barras de erros nos pontos\n  geom_errorbar(aes(ymax = mean + se, #Barra de erro para baixo (média - erro)\n                   ymin = mean - se, #Barra de erro para cima (média + erro) \n                   width=2, #define a largura da barra de erro \n                   color=LIRRIG #define as cores das linhas de acordo com LIRRIG\n                   ))+\n  \n  #Agrupa os gráficos por FMICO\n  facet_grid(~FMICO)+\n  \n  #Define o estilo do gráfico\n  theme_bw()+\n  \n  #Altera título do eixo X\n  xlab(\"Nome da variável no eixo X (DAS)\")+\n\n  #Altera título do eixo Y\n  ylab(\"Nome da variável no eixo Y (MAP)\")\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  # Adiocionar letras acima das barras\n  geom_text(aes(label = c(\n    \"a\"#1\n    \n    )),position = position_dodge(1), vjust = -1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nmapping: label = ~c(\"a\") \ngeom_text: parse = FALSE, check_overlap = FALSE, size.unit = mm, na.rm = FALSE\nstat_identity: na.rm = FALSE\nposition_dodge \n```\n\n\n:::\n:::\n\n\n\n\n----\n\n\n## **Gráfico de pontos e barras de erros**\n\n\n### **Modelo1**\\\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |>\n  group_by(FMICO, LIRRIG, DAS) |>\n  get_summary_stats(MAP, type = \"mean_se\") |>\n  convert_as_factor(DAS) |>\n  \n  ggplot(aes(\n    x = FMICO,\n    y = mean,\n    fill = LIRRIG\n  )) +\n  geom_point(aes(color = LIRRIG), position = position_dodge(width = 0.2)) +\n  geom_errorbar(\n    aes(\n      x = FMICO,\n      ymax = mean + se,\n      ymin = mean - se,\n      width = 0.1,\n      color = LIRRIG\n    ),\n    position = position_dodge(width = 0.2)\n  ) +\n  facet_grid(~DAS) +\n  theme_bw() +\n  xlab(\"Nome da variável no eixo X (DAS)\") +\n  ylab(\"Nome da variável no eixo Y (MAP)\")\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\n\n----\n\n\n### **Modelo2**\\\n\nAdicionando significância entre tratamentos.\\\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nteste=\ndados |> \n  group_by(DAS, FMICO) |>\n  pairwise_t_test(MAP ~ LIRRIG, p.adjust.method = \"bonferroni\") |> \n  dplyr::select(-`p`, -`p.signif`) |> \n  add_xy_position(x = \"DAS\") |>  \n  filter(`p.adj`<0.05 ) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggpubr)\n\ndados |>\n  group_by(FMICO, LIRRIG, DAS) |>\n  get_summary_stats(MAP, type = \"mean_se\") |>\n  convert_as_factor(DAS) |>\n  \n  ggplot(aes(\n    x = FMICO,\n    y = mean,\n    fill = LIRRIG\n  )) +\n  geom_point(aes(color = LIRRIG), position = position_dodge(width = 0.2)) +\n  geom_errorbar(\n    aes(\n      x = FMICO,\n      ymax = mean + se,\n      ymin = mean - se,\n      width = 0.1,\n      color = LIRRIG\n    ),\n    position = position_dodge(width = 0.2)\n  ) +\n  facet_grid(~DAS) +\n  theme_bw() +\n  xlab(\"Nome da variável no eixo X (DAS)\") +\n  ylab(\"Nome da variável no eixo Y (MAP)\")\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  # stat_pvalue_manual(teste, tip.length = 0, hide.ns = TRUE)\n```\n:::\n\n\n\n\n\n\n<br>\n<br>\n\n----\n\n## **Gráfico de barras e erros**\n\n\n\n\n\n\n\n\n\n\n\n### **Modelo 1**\\\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  # Realizar o agrupamento dos dados por FMICO e LIRRIG\n  group_by(FMICO, LIRRIG) |> \n  # Calcular as estatísticas resumidas (média e erro padrão) para a coluna CLOA dentro de cada grupo\n  get_summary_stats(CLOA, type = \"mean_se\") |> \n  \n  # Criar o gráfico de barras com barras de erro\n  ggplot(aes(x = FMICO, y = mean, fill = LIRRIG)) +\n  # Adicionar as barras de dados\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  # Adicionar as barras de erro\n  geom_errorbar(aes(ymax = mean + se, ymin = mean - se), \n                position = position_dodge(0.9), width = 0.2)+\n  # Definir estilo do gráfico\n  theme_bw()\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n\n\n\n----\n\n### **Modelo 2**\\\n\n\nAlterando título dos eixos X e Y e alterando cores das barras:  \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  # Realizar o agrupamento dos dados por FMICO e LIRRIG\n  group_by(FMICO, LIRRIG) |> \n  # Calcular as estatísticas resumidas (média e erro padrão) para a coluna CLOA dentro de cada grupo\n  get_summary_stats(CLOA, #Selcionar a variável\n                    type = \"mean_se\") |> #definir o tipo de estatística (média±erro-padrão)\n  \n  # Criar o gráfico de barras com barras de erro\n  ggplot(aes(x = FMICO, y = mean, fill = LIRRIG)) +\n  \n  # Adicionar as barras de dados\n  geom_bar(stat = \"identity\", #define que a altura das barras seja a média\n           position = \"dodge\", #define que as barras fiquem lado a lado\n           color = \"black\") + #Adiciona cotorno preto às barras\n  \n  # Escolha as cores das barras manualmente (pode usar nome da cor ou código hexadecimal)\n    scale_fill_manual(values = c(\"red\", \"#555555\", \"#ffffff\")) +  \n  \n  # Adicionar as barras de erro\n  geom_errorbar(aes(ymax = mean + se, ymin = mean - se), \n                position = position_dodge(0.9), width = 0.2)+\n  # Definir estilo do gráfico\n  theme_bw()+\n  \n  #Altera título do eixo X\n  xlab(\"Nome da variável FMICO\")+\n  \n  #Altera título do eixo Y\n  ylab(\"Nome da variável CLOA\")\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\n----\n\n### **Modelo 3**\\\n\nAdicionado letras nas barras:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  # Realizar o agrupamento dos dados por FMICO e LIRRIG\n  group_by(FMICO, LIRRIG) |> \n  # Calcular as estatísticas resumidas (média e erro padrão) para a coluna CLOA dentro de cada grupo\n  get_summary_stats(CLOA, #Selcionar a variável\n                    type = \"mean_se\") |> #definir o tipo de estatística (média±erro-padrão)\n  \n  # Criar o gráfico de barras com barras de erro\n  ggplot(aes(x = FMICO, y = mean, fill = LIRRIG)) +\n  \n  # Adicionar as barras de dados\n  geom_bar(stat = \"identity\", #define que a altura das barras seja a média\n           position = \"dodge\", #define que as barras fiquem lado a lado\n           color = \"black\") + #Adiciona cotorno preto às barras\n  \n  # Escolha as cores das barras manualmente (pode usar nome da cor ou código hexadecimal)\n    scale_fill_manual(values = c(\"red\", \"#555555\", \"#ffffff\")) +  \n  \n  # Adicionar as barras de erro\n  geom_errorbar(aes(ymax = mean + se, ymin = mean - se), \n                position = position_dodge(0.9), width = 0.2)+\n  # Definir estilo do gráfico\n  theme_bw()+\n  \n  #Altera título do eixo X\n  xlab(\"Nome da variável FMICO\")+\n  \n  #Altera título do eixo Y\n  ylab(\"Nome da variável CLOA\")+\n  \n  ylim(0,50)+ #AUmentando a escala de Y para caber as letras no gráfico\n\n  # Adiocionar letras acima das barras\n  geom_text(aes(label = c(\n    \"a\",#1\n    \"b\",#2\n    \"c\",#3\n    \"d\",#4\n    \"e\",#5\n    \"f\",#6\n    \"g\",#7\n    \"h\",#8\n    \"i\" #9\n    \n    )),position = position_dodge(1), vjust = -1)\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n\n----\n\n### **Modelo 4**\\\n\nReduzindo a escala do gráfica\\\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndados |> \n  # Realizar o agrupamento dos dados por FMICO e LIRRIG\n  group_by(FMICO, LIRRIG) |> \n  # Calcular as estatísticas resumidas (média e erro padrão) para a coluna CLOA dentro de cada grupo\n  get_summary_stats(CLOA, #Selcionar a variável\n                    type = \"mean_se\") |> #definir o tipo de estatística (média±erro-padrão)\n  \n  # Criar o gráfico de barras com barras de erro\n  ggplot(aes(x = FMICO, y = mean, fill = LIRRIG)) +\n  \n  # Adicionar as barras de dados\n  geom_bar(stat = \"identity\", #define que a altura das barras seja a média\n           position = \"dodge\", #define que as barras fiquem lado a lado\n           color = \"black\") + #Adiciona cotorno preto às barras\n  \n  # Escolha as cores das barras manualmente (pode usar nome da cor ou código hexadecimal)\n    scale_fill_manual(values = c(\"red\", \"#555555\", \"#ffffff\")) +  \n  \n  # Adicionar as barras de erro\n  geom_errorbar(aes(ymax = mean + se, ymin = mean - se), \n                position = position_dodge(0.9), width = 0.2)+\n  # Definir estilo do gráfico\n  theme_bw()+\n  \n  #Altera título do eixo X\n  xlab(\"Nome da variável FMICO\")+\n  \n  #Altera título do eixo Y\n  ylab(\"Nome da variável CLOA\")+\n  \n  #Aumentando a escala de Y para caber as letras no gráfico\n  #Usando coord_cartesian para definir o range e não subir as barras\n  coord_cartesian(ylim = c(20, 50))+ \n\n  # Adiocionar letras acima das barras\n  geom_text(aes(label = c(\n    \"a\",#1\n    \"b\",#2\n    \"c\",#3\n    \"d\",#4\n    \"e\",#5\n    \"f\",#6\n    \"g\",#7\n    \"h\",#8\n    \"i\" #9\n    \n    )),position = position_dodge(1), vjust = -1)\n```\n\n::: {.cell-output-display}\n![](graficos_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "graficos_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}